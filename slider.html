<!DOCTYPE html>
<html>
  <head>
    <style>
      * {
        padding: 0px;
        margin: 0px;
        box-sizing: border-box;
      }
      .carousel-container {
        width: 60%;
        margin: auto;
        border: 5px solid black;
      }
      .carousel-slide {
        display: flex;
        width: 100%;
        height: 500px;
      }
    </style>
  </head>
  <body>
    <div class="carousel-container">
      <div class="carousel-slide">
        <img
          src="https://s3.ap-south-1.amazonaws.com/media-staging.dealshare.in/1599049727827eng.jpg"
          alt=""
          id="lastClone"
        />
        <img
          src="https://s3.ap-south-1.amazonaws.com/media-staging.dealshare.in/1599049616361marathi.jpg"
          alt=""
        />
        <img
          src="https://s3.ap-south-1.amazonaws.com/media-staging.dealshare.in/1599049655752hindi.jpg"
          alt=""
        />
        <img
          src="https://s3.ap-south-1.amazonaws.com/media-staging.dealshare.in/1599049700430guj.jpg"
          alt=""
        />
        <img
          src="https://s3.ap-south-1.amazonaws.com/media-staging.dealshare.in/1599049727827eng.jpg"
          alt=""
        />

        <img
          src="https://s3.ap-south-1.amazonaws.com/media-staging.dealshare.in/1599049616361marathi.jpg"
          alt=""
          id="firstClone"
        />
      </div>
    </div>
    <button id="prevBtn">Prev</button>
    <button id="nextBtn">next</button>
  </body>
</html>
<script>
  const carouselSlide = document.querySelector(".carousel-slide");
  //   const carouselImage = document.querySelectorAll(".carousel-slide")[0];
  const carouselImages = document.querySelectorAll(".carousel-slide img");

  //button
  const prevBtn = document.querySelector("#prevBtn");
  const nextBtn = document.querySelector("#nextBtn");
  //Counter
  let counter = 1;
  console.log("carouselImages[0]", carouselImages);

  const size = 933;
  console.log("size", size);

  carouselSlide.style.transform = "translateX(" + -size * counter + "px)";

  nextBtn.addEventListener("click", () => {
    if (counter >= carouselImages.length - 1) {
      return;
    }

    carouselSlide.style.transition = "transform 0.4s ease-in-out";
    counter++;
    console.log("counter", counter);

    carouselSlide.style.transform = "translateX(" + -size * counter + "px)";
  });
  prevBtn.addEventListener("click", () => {
    if (counter <= 0) return;
    console.log("prev");

    carouselSlide.style.transition = "transform 0.4s ease-in-out";
    counter--;
    carouselSlide.style.transform = "translateX(" + -size * counter + "px)";
  });
  carouselSlide.addEventListener("transitionend", () => {
    console.log("carouselImages", carouselImages.length);

    if (carouselImages[counter].id === "lastClone") {
      carouselSlide.style.transition = "none";
      counter = carouselImages.length - 2;
      carouselSlide.style.transform = "translateX(" + -size * counter + "px)";
    }
    if (carouselImages[counter].id === "firstClone") {
      carouselSlide.style.transition = "none";
      counter = carouselImages.length - counter;
      carouselSlide.style.transform = "translateX(" + -size * counter + "px)";
    }
  });
</script>
